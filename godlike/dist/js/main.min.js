const body=document.querySelector("body"),html=document.querySelector("html"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");let windowSize=window.innerWidth;body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&header.classList.add("mobile-nav-active"),(t(".header__mobile-nav--close button")||t(".header__mobile-nav--bg"))&&header.classList.remove("mobile-nav-active");let o=t(".btn-to-scroll");if(o){let t;e.preventDefault(),o.classList.contains("_on-top")?body.scrollIntoView({block:"start",behavior:"smooth"}):(t=document.querySelector(o.getAttribute("href")),t.scrollIntoView({block:"start",behavior:"smooth"}))}const r=t(".anchor-link");r&&history.pushState("","",r.getAttribute("href"));const i=t(".select-selected"),s=document.querySelectorAll(".select._active");if(i){const e=i.closest(".select");e.classList.contains("_active")?e.classList.remove("_active"):(s.forEach(e=>{e.classList.remove("_active")}),e.classList.add("_active"))}else s.length&&!t(".select")&&s.forEach(e=>{e.classList.remove("_active")});const n=t(".rating__star");if(n){const e=n.closest(".rating").querySelector(".rating__star._active");e&&e.classList.remove("_active"),n.classList.add("_active")}const a=t(".games-nav__current .games-nav__item");if(a){const t=a.closest(".games-nav-mob");e.preventDefault();const o=t.querySelector(".games-nav__list");if(t.classList.contains("_active")){o.style.transitionProperty="height";const e=o.offsetHeight;o.style.height=e+"px",o.addEventListener("transitionend",(function e(){o.style.removeProperty("transition-property"),o.style.display="none",o.style.removeProperty("height"),t.classList.remove("_animating"),o.removeEventListener("transitionend",e)})),setTimeout(()=>{o.style.height=0,t.classList.remove("_active")},0)}else{t.classList.add("_active"),o.style.height="auto",o.style.display="flex";const e=o.offsetHeight;o.style.height=0,o.style.transitionProperty="height",o.addEventListener("transitionend",(function e(){o.style.removeProperty("transition-property"),t.classList.remove("_animating"),o.removeEventListener("transitionend",e)})),setTimeout(()=>{o.style.height=e+"px"},0)}}const l=t(".footer__nav--target");if(l&&windowSize<768){const e=l.closest(".footer__nav--block"),t=e.querySelector("ul");e.classList.contains("_animating")||(e.classList.toggle("_active"),e.classList.add("_animating"),e.classList.contains("_active")?slideDown(t):slideUp(t),setTimeout(()=>{e.classList.remove("_animating")},500))}}));const stickyBlock=new Sticky("[data-sticky-container] .sticky");let resizeCheck={};function resizeCheckFunc(e,t,o){windowSize<=e&&(1==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&0!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!1,o()),windowSize>=e&&(0==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&1!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!0,t())}const gamesNavWrapper=document.querySelector(".games-nav__wrapper"),gamesNavContainer=document.querySelector(".games-nav__sticky-container"),gamesNavMobContainer=document.querySelector(".games-nav-mob");function resize(){windowSize=window.innerWidth,html.style.setProperty("--height-header",header.offsetHeight+"px"),resizeCheckFunc(992,(function(){gamesNavContainer&&gamesNavWrapper&&gamesNavContainer.append(gamesNavWrapper)}),(function(){gamesNavMobContainer&&gamesNavWrapper&&gamesNavMobContainer.append(gamesNavWrapper)}))}resize(),window.onresize=resize;let lastNewsSlider=new Swiper(".last-news__slider",{spaceBetween:20,slidesPerView:2,reverseDirection:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1550:{slidesPerView:4},1200:{slidesPerView:3},350:{spaceBetween:10}}});const scrollAnchorContainer=document.querySelectorAll(".scroll-anchor-container");function scroll(){scrollAnchorContainer.forEach(e=>{const t=e.querySelectorAll("[id]");document.querySelectorAll(e.dataset.nav).forEach(o=>{let r=!0;for(let i=t.length-1;i>=0;i--)if(t[i].getBoundingClientRect().top<5&&Math.abs(e.getBoundingClientRect().top)<e.offsetHeight){const e=o.querySelector(`.anchor-link[href="#${t[i].getAttribute("id")}"]`);if(r=!1,e){const r=o.querySelector(".anchor-link._active");r?r.getAttribute("href")!="#"+t[i].getAttribute("id")&&(r.classList.remove("_active"),e.classList.add("_active")):e.classList.add("_active")}break}if(r){const e=o.querySelector(".anchor-link._active");e&&e.classList.remove("_active")}})})}function slideUp(e,t=500){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=500){e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let r=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}scrollAnchorContainer.forEach(e=>{const t=e.querySelectorAll("[id]");document.querySelectorAll(e.dataset.nav).forEach(e=>{t.forEach(e=>{e.insertAdjacentHTML("beforeend",`<a class="hash-link" href="#${e.getAttribute("id")}">#</a>`)})})}),scroll(),window.addEventListener("scroll",scroll),AOS.init({disable:"mobile",once:!0});